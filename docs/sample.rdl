-- это однострочный комментарий
\\ многострочные комментарии
объявляются так //

-- текст программы состоит из 3 блоков: объекты, инструменты, обработка
-- индентация строк не имеет значения, но с 1 табом в блоке код выглядит чище всего
-- каждый элемент блока отделяется точкой с запятой, как в стандартном перечислении
-- блок завершается точкой с запятой

объекты:
    человек;
    автомобиль;
;

инструменты:
    -- тип инструмента всегда идет непосредственно после идентификатора
    *т1: (40, 50);

    -- параметры инструментов всегда именованные и могут идти в любом порядке
    *л1: прямая, от=(20, 30), до=*т1;
    
    -- у некоторых инструментов могут быть необязательные параметры  
    *л2: прямая, до=(50, 60), от=(50, 50), цвет=rgb(255, 0, 0);
    
    *з1: зона, состав=...(
        *л1;
        *л2;
        -- (*д1: дуга, центр=(3, 3), радиус=1, от=0, до=180);
        (дуга, центр=(3, 3), радиус=1, от=0, до=180)
    );

    *cч1: счетчик, старт=0, шаг=1;
;

обработка:
    -- объявление действий
    -- действия - то, что происходит в системе как реакция на какое-то событие

    _действие1: оповестить("сообщение 1");
    _действие3: оповестить("сообщение_3");
    
    -- событие - то, что происходит на экране ("ситуация" в терминах ГОСТа)
    -- проверка - конструкция "если (событие): блок действий"

    -- блок действий, активирующихся после проверки одного события
    -- блок действий отделяется от следующих выражений 1 пустой строкой
    если (автомобиль.пересекает(*л1)):
        _действие1;
        оповестить("еще одно сообщение");
    ;
    
    -- объявление событий + действия 
    _cобытие1: человек.пересекает(*л1);
    _cобытие2: человек.пересекает(*л2);
    _действие2: увеличить(*cч1);

    -- события можно объединять в цепочки с помощью логических операторов
    если _событие1 или _событие2: 
        _действие2;
    ;

    -- в результатом проверки может быть одно или несколько событий
    если (автомобиль.пересекает(*л2)) и _событие2: 
        _действие3;
    ;

    -- действия могут быть привязаны как к объектам (сцены видеонаблюдения), так и к инструментам
    _событие3: *cч1.равен(1000);
    если _событие3:
        оповестить("1000 пересечений линии");
        сохранить("1000 пересечений линии");
        обнулить(*cч1);
    ;
;
